task publishOsoIntegrationService(type: GradleBuild) {
    description = 'Publishes OSO integration service to Maven Local'
    group = 'build setup'
    dir = '../../realguardio-oso-integration-service'
    tasks = ['publishToMavenLocal']
}

tasks.withType(JavaCompile).configureEach {
    dependsOn publishOsoIntegrationService
}

dependencies {
    implementation project(':location-roles-replica')

    implementation 'io.realguardio.osointegration:oso-service:0.1.0-SNAPSHOT'

    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'
    implementation 'jakarta.persistence:jakarta.persistence-api'
    implementation 'org.springframework:spring-tx'
    implementation 'io.eventuate.tram.core:eventuate-tram-spring-events'
    implementation 'io.eventuate.tram.core:eventuate-tram-spring-commands'

    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.mockito:mockito-junit-jupiter'
    testImplementation 'org.assertj:assertj-core'
    testImplementation 'com.github.tomakehurst:wiremock-jre8-standalone:2.35.0'
}